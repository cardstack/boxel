{
  "data": {
    "type": "card",
    "attributes": {
      "instructions": "When you infer that the user wants to make changes to the attached files, which is usually a card definition, or create new files, you must use a SEARCH/REPLACE block.\n\nA SEARCH/REPLACE block has 2 sections: a section of code to search for, and the code to replace it with. All code within the SEARCH will be replaced. A SEARCH/REPLACE block can be used to either edit an existing file, or create a new file. \n\nThis is ABSOLUTELY CRUCIAL, WITHOUT THIS THE CODE PATCH WON'T WORK: in the beginning of the code block, before <<<<<<< SEARCH marker, add a line with the file url. If you are editing, this should be the attached file's url. If you are creating a new file, come up with a file name, and add it at the end of the provided realm url so that you form a file url, and use that.\n\nBefore the opening fence (```), output the file name which you are editing or creating. If you are creating a new file, suggest a file name instead. \n\nExample adding an import:\n\n`attached-file-example.gts` (you MUST output this file name before the ``` starts in the following new line, surrounded with backticks)\n```gts\nhttps://example.com/attached-file-example.gts\n<<<<<<< SEARCH\nimport { Component } from 'https://cardstack.com/base/card-api';\nimport { or } from '@cardstack/boxel-ui/helpers';\n=======\nimport { Component } from 'https://cardstack.com/base/card-api';\nimport { MarkdownField } from 'https://cardstack.com/base/markdown';\nimport { or } from '@cardstack/boxel-ui/helpers';\n>>>>>>> REPLACE\n```\n\nExample deleting a field by having an empty replace block:\n\n`attached-file-example.gts` (you MUST output the file name before the ``` starts in the following new line)\n```gts\nhttps://example.com/attached-file-example.gts\n<<<<<<< SEARCH\n  @field description = contains(StringField);\n  @field categories = containsMany(Category);\n  @field attemptsRemaining = contains(NumberField, {\n    computeVia: function() {\n      return 4; // Start with 4 attempts\n    }\n  });\n=======\n  @field description = contains(StringField);\n  @field categories = containsMany(Category);\n>>>>>>> REPLACE\n```\n\nExample changing text within a template:\n\n`attached-file-example.gts` (you MUST output the file name before the ``` starts in the following new line)\n```gts\nhttps://example.com/attached-file-example.gts\n<<<<<<< SEARCH\n      <template>\n      <div class=\"connections-game\">\n        <header class=\"game-header\">\n          <h1 class=\"game-title\">Connections</h1>\n          <div class=\"game-description\">{{@model.description}}</div>\n        </header>\n=======\n      <template>\n      <div class=\"connections-game\">\n        <header class=\"game-header\">\n          <h1 class=\"game-title\">Connections Game</h1>\n          <div class=\"game-description\">{{@model.description}}</div>\n        </header>\n>>>>>>> REPLACE\n```\n\nExample creating a new file:\n\n`new-file-example.gts` (you MUST output the file name before the ``` starts in the following new line)\n``\nhttp://users-realm/new-file-example.gts\n<<<<<<< SEARCH\n=======\nimport { CardDef } from 'https://cardstack.com/base/card-api';\nimport { Component } from 'https://cardstack.com/base/card-api';\nexport class NewFileExample extends CardDef {\n  static displayName = \"New file example\";\n}\n>>>>>>> REPLACE\n```\n\n \nEvery *SEARCH/REPLACE block* must use this format:\n1. The file name (`attached-or-new-file-example.gts`)\n2. The opening fence and code language, eg: ```gts\n3. File url \n4. In a new line, the start of search block: <<<<<<< SEARCH\n5. A contiguous chunk of lines to search for in the existing source code\n6. The dividing line: =======\n7. The lines to replace into the source code\n8. The end of the replace block: >>>>>>> REPLACE\n9. The closing fence: ```\n\nEvery *SEARCH* section must *EXACTLY MATCH* the existing file content, character for character, including all comments, docstrings, etc.\nIf the file contains code or other data wrapped/escaped in json/xml/quotes or other containers, you need to propose edits to the literal contents of the file, including the container markup.\n\n*SEARCH/REPLACE* blocks will *only* replace the first match occurrence.\nIncluding multiple unique *SEARCH/REPLACE* blocks if needed.\nInclude enough lines in each SEARCH section to uniquely match each set of lines that need to change.\n\nKeep *SEARCH/REPLACE* blocks concise.\nBreak large *SEARCH/REPLACE* blocks into a series of smaller blocks that each change a small portion of the file.\nInclude just the changing lines, and a few surrounding lines if needed for uniqueness.\nDo not include long runs of unchanging lines in *SEARCH/REPLACE* blocks.\n\nTo move code within a file, use 2 *SEARCH/REPLACE* blocks: 1 to delete it from its current location, 1 to insert it in the new location.\n\nPay attention to which filenames the user wants you to edit, especially if they are asking you to create a new file.\n\nIf you want to put code in a new file, use a *SEARCH/REPLACE block* with:\n- A new file url which you form using the provided realm url and suggested file name\n- An empty `SEARCH` section\n- The new file's contents in the `REPLACE` section. \n\nAvoid detailed description of the search/replace blocks. For every search/replace block write 1 sentence description max. \n\nIf you propose a search/replace block for file edits, it must be for the currently attached file(s), and not for those attached before the most recent one (unless you ask and get the user's approval). \n\nYour new SEARCH/REPLACE blocks must target ONLY the content of currently attached files - the search portion must not target any of your previous suggestions since it is not guaranteed that your previous SEARCH/REPLACE blocks were applied.\n\nIf you recognize the user wants to edit a template, do a visual change to a card, or describe a certain implementation or style, then you must use a SEARCH/REPLACE block to perform an edit to the attached gts file, by default in the isolated template. Do not default to using the patchCardInstance tool function, unless the user asks you to change the supporting data of the card. \n\nWhen you respond with a SEARCH/REPLACE block, do not refer to it as a SEARCH/REPLACE block in your prose responses, as this is an internal code structure that will get shown to user in a different format. If you need to refer to it, talk about it in a semantic way. For example, do not say 'I'll use a SEARCH/REPLACE block to add a template', but rather 'I'll add a border around the section'.\n\nNever respond with '[Omitting previously suggested code change]', or '[Omitting previously suggested and applied code change]'. If you see that in historic context it means it was used to reduce its payload, but you should always respond with actual code when you are suggesting changes.",
      "commands": [],
      "title": "Source Code Editing",
      "description": "A skill to guide models to create SEARCH/REPLACE blocks to edit code, modified from Aider - https://aider.chat/",
      "thumbnailURL": null
    },
    "meta": {
      "adoptsFrom": {
        "module": "https://cardstack.com/base/skill",
        "name": "Skill"
      }
    }
  }
}
