{
  "data": {
    "meta": {
      "adoptsFrom": {
        "name": "SkillPlus",
        "module": "../skill-plus"
      }
    },
    "type": "card",
    "attributes": {
      "title": "Enumerations",
      "cardInfo": {
        "notes": null,
        "title": "Enumerations",
        "description": "Create constrained-value fields with enumField for dropdowns, rich options, and dynamic choices",
        "thumbnailURL": null
      },
      "commands": [],
      "description": "",
      "instructions": "## Enum Field Essentials\n\n**CRITICAL Import Syntax:**\n```gts\nimport enumField from 'https://cardstack.com/base/enum'; // Default import, not { enumField }\n```\n\n**Quick Start:**\n```gts\nconst StatusField = enumField(StringField, { options: ['Open', 'Closed'] });\n@field status = contains(StatusField);\n```\n\n**Template:** `<@fields.status />` renders a BoxelSelect in edit mode.\n\n**Rich options with labels/icons:**\n```gts\nenumField(StringField, { \n  options: [\n    { value: 'high', label: 'High Priority', icon: ArrowUpIcon },\n    { value: 'low', label: 'Low Priority', icon: ArrowDownIcon }\n  ]\n})\n```\n\n**Key helpers:**\n- `enumValues(card, 'fieldName')` → array of primitive values\n- `enumOptions(card, 'fieldName')` → normalized `{ value, label, icon? }`\n\n<!--more-->\n\n# Enum Fields\n\n## Purpose\n\nUse `enumField(BaseField, { options })` to create a `FieldDef` with constrained values and a default dropdown editor. Works with primitive bases (e.g., `StringField`, `NumberField`).\n\n## Import Syntax\n\n**CRITICAL:** Use default import, not destructured import:\n\n```gts\n// ✅ CORRECT\nimport enumField from 'https://cardstack.com/base/enum';\n\n// ❌ WRONG\nimport { enumField } from 'https://cardstack.com/base/enum';\n```\n\n## Quick Start\n\n**Define:**\n```gts\nconst StatusField = enumField(StringField, { options: ['Open', 'Closed'] });\n```\n\n**Use:**\n```gts\n@field status = contains(StatusField);\n```\n\n**Template:**\n```hbs\n<@fields.status /> {{! Renders a BoxelSelect in edit mode }}\n```\n\n## Rich Options (Labels/Icons)\n\n```gts\nenumField(StringField, { \n  options: [\n    { value: 'high', label: 'High', icon: ArrowUpIcon },\n    { value: 'medium', label: 'Medium', icon: MinusIcon },\n    { value: 'low', label: 'Low', icon: ArrowDownIcon }\n  ]\n})\n```\n\nEditor shows labels/icons; stored value is the primitive `value`.\n\n## Dynamic Options\n\n**Provide a function:**\n```gts\nenumField(StringField, { \n  options: function() { \n    return this.someList; \n  }\n})\n```\n\n**Per-usage override:**\n```gts\ncontains(Field, { \n  configuration: enumConfig(function() { \n    return { options: this.someList }; \n  })\n})\n```\n\n**Note:** `this` is the containing card or field\n\n## Helpers\n\n**enumValues** - Get array of primitive values:\n```gts\nenumValues(card, 'enumFieldName') // → ['High', 'Medium', 'Low']\n```\n\n**enumOptions** - Get normalized option objects:\n```gts\nenumOptions(card, 'enumFieldName') // → [{ value, label, icon? }, ...]\n```\n\n## Null Handling\n\nIf current value is `null` and `null` isn't in options, placeholder uses `unsetLabel` or \"Choose…\".\n\nTo make `null` selectable:\n```gts\n{ value: null, label: 'None' }\n```\n\n## Limitations\n\n- **Compound field values:** Not yet supported\n- **Card values:** Not yet supported\n\n## Validation and Behavior\n\n- Duplicate values throw during option normalization\n- Query and serialization follow the base field\n- Enum wrapping does not change data shape\n\n## Minimal Example\n\n**Define:**\n```gts\nimport enumField from 'https://cardstack.com/base/enum';\nconst Priority = enumField(StringField, { options: ['High', 'Medium', 'Low'] });\n```\n\n**Use:**\n```gts\nclass Task extends CardDef { \n  @field priority = contains(Priority); \n}\n```\n\n**Template:**\n```hbs\n<@fields.priority />\n{{enumValues @model 'priority'}} {{! ['High','Medium','Low'] }}\n```\n\n## Factory vs Usage (Clarity)\n\n**Factory defaults:**\n```gts\nenumField(Base, { options }) // For simple/static defaults\n```\n\n**Usage overrides:**\n```gts\ncontains(Field, { \n  configuration: enumConfig(function() { \n    return { options }; \n  })\n}) // For per-instance behavior\n```\n\nBoth resolve to `@configuration.enum.options` for templates/formats.\n\n## Callback Context\n\n`computeVia`, `enumField` options functions, and `enumConfig` usage callbacks all receive the containing instance as `this`.\n\n**Prefer `function() { ... }` (not arrow)** to ensure `this` is bound to the parent instance.\n\n**Guidance:** Keep callbacks side-effect free; derive options synchronously from `this`.\n\n## Complete Example\n\n```gts\nimport { CardDef, field, contains } from 'https://cardstack.com/base/card-api';\nimport StringField from 'https://cardstack.com/base/string';\nimport enumField from 'https://cardstack.com/base/enum';\nimport ArrowUpIcon from '@cardstack/boxel-icons/arrow-up';\nimport ArrowDownIcon from '@cardstack/boxel-icons/arrow-down';\n\nconst PriorityField = enumField(StringField, {\n  options: [\n    { value: 'high', label: 'High Priority', icon: ArrowUpIcon },\n    { value: 'medium', label: 'Medium Priority' },\n    { value: 'low', label: 'Low Priority', icon: ArrowDownIcon }\n  ]\n});\n\nexport class Task extends CardDef {\n  @field taskName = contains(StringField);\n  @field priority = contains(PriorityField);\n  \n  @field title = contains(StringField, {\n    computeVia: function(this: Task) {\n      return this.taskName ?? 'Untitled Task';\n    }\n  });\n}\n```"
    },
    "relationships": {
      "cardInfo.theme": {
        "links": {
          "self": "../Theme/cardstack"
        }
      }
    }
  }
}
